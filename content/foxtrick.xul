<?xml version="1.0"?>

<!DOCTYPE overlay>

<overlay id="foxtrick"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<script type="application/x-javascript" src="chrome://foxtrick/content/preferences.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/const.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/module.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/l10n.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/helper.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/xml_load.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/stats.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/redirections.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/read_ht_pref_changes.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/preferences-dialog.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/preferences-dialog-html.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/skilltable.js" />

<!-- individual modules -->
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumstriphattricklinks.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumchangeposts_modules.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumchangeposts.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumtemplates.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumpreview.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumyouthicons.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumleaveconfbutton.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/staffmarker.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumhidesignatures.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumnextandprevious.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumlastpost.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumshowprefbutton.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/htthreadmarker.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumgotopostbox.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/forumsearch.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/forum/ForumPresentation.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/matches.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/matchPlayerColouring.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/matchReport.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/ratings.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/attvsdef.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/matchOrdersFlipSides.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/matchOrdersFormationBox.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/starscounter.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/repositionedplayers.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/advancedStarsCounter.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/matchincome.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/ratingstoclipboard.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/matches/htmsStatistics.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/flagCollectionToMap.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/mediantransferprice.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/transferListSearchFilters.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/transferListDeadline.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/youthskillnotes.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/foxtrickalert.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/alertcustom.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/alertcustomsounds.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/addmanagerbuttons.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/confirmplayerbid.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/economyDifference.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/playeradtoclipboard.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/teamStats.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/historyStats.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/teamselectbox.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/seniorteamshortcuts.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/shortcutsstatistics.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/copymatchid.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/contextmenue.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/copyTrainingReport.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/playerbirthday.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/addhtlivetoongoing.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/seasonstats.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/youthskillsHideUnknown.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/youthskilltable.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/tables.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/adultskilltable.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/crosstable.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/electiontable.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/lineupshortcut.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/youthPromotes.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/predefinedChallenges.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/lastlogin.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/transferCompareSort.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/LeagueAndMatchChat.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/rapidid.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/extendedplayerdetails.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/facePlugin.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/personalityImages.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/skillcoloring.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/skinPlugin.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/largeflags.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/htdateformat.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/bookmarkadjust.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/HighlightBotTeams.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/countrylist.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/custommedals.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/fixcssproblems.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/SimplePresentation.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/guestbookalltidflags.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/tickercoloring.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/headerfix.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/newmail.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/leaguenewsfilter.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/moveplayerselectbox.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/highlightcupwins.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/skilltranslation.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/smallerpages.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/backgroundfixed.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/MatchOrderColoring.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linkscustom.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksleague.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksteam.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linkscountry.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linkschallenges.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linkseconomy.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksyouthoverview.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksarena.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linkscoach.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksplayerdetail.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksmatch.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linkstraining.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksalliances.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksnational.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksmanager.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksachievements.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksplayers.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksfans.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksclubtransfers.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linksstaff.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/links/linkstracker.js" />

<!-- following modules all run on 'all_late' pages. order of execution is determined be following order --> 
<script type="application/x-javascript" src="chrome://foxtrick/content/presentation/currencyConverter.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/shortcuts_and_tweaks/teampopuplinks.js" /> 

<script type="application/x-javascript" src="chrome://foxtrick/content/modules_list.js" />
<script type="application/x-javascript" src="chrome://foxtrick/content/foxtrick.js" />


<!-- run init -->
<script type="text/javascript"> 	
	FoxtrickMain.init();
</script>


<!-- attach run to load listener -->
<script type="text/javascript"> 
    window.addEventListener( "load",
                             function() { 
                                 FoxtrickMain.registerOnPageLoad(document);
                             },
                             false );
</script>



<!-- Mozilla Tools menu -->
<menupopup id="taskPopup">
    <menuitem id="foxtrick-config-menu" oncommand="FoxtrickPreferencesDialog.configureFoxtrick();"/>
</menupopup>
    
<!-- Firefox Tools menu -->
<menupopup id="menu_ToolsPopup">
    <menu id="hattricktools_menu" label="Hattrick">
		<menupopup id="hattricktools_menupopup">
			<menuitem id="foxtrick-config-menu" oncommand="FoxtrickPreferencesDialog.configureFoxtrick();"/>
		</menupopup>
	</menu>
</menupopup>

<!-- popup menu -->
<popup id="contentAreaContextMenu">
    <menuitem id="foxtrick_popup_menu" label="Foxtrick" oncommand="FoxtrickPreferencesDialog.copy_id();"/>
</popup> 



<statusbar id="status-bar">
	<statusbarpanel	id="foxtrick-status-bar-image" context="foxtrick-status-bar-menu">
		<image
			id="foxtrick-status-bar-img"
			tooltiptext="Foxtrick"
			onload="Foxtrick.setStatusIconStyle(event);"
			onclick="FoxtrickPreferencesDialog.configureFoxtrick(event.button);"
		/>
	</statusbarpanel>
    <menupopup id="foxtrick-status-bar-menu">
        <menuitem id="foxtrick_statusbar_config_menu" oncommand="FoxtrickPreferencesDialog.configureFoxtrick();"/>
        <menuitem id="foxtrick_statusbar_reload" oncommand="Foxtrick.Loader.Load();FoxtrickMain.init();" />
        <menuitem id="foxtrick_statusbar_deactivate" oncommand="FoxtrickPreferencesDialog.deactivate();" type="checkbox" autocheck="true"/>
   </menupopup>
</statusbar>
</overlay>

